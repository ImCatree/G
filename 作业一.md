# 作业一(废话巨多，建议直接看结尾)

一开始想用割圆术算的（数学方法我只知道一个抛针法和一个割圆术），但是一开始的试运行在98304边形停止了，一查才发现有问题然后脑子彻底停转了。<img src="E:\素材\表情包\唔\怎么会这样呢jpg" alt="QQ图片20230304022340" style="zoom:25%;" />

然后我就去到处查关于圆周率的算法，发现拉马努金公式看起来斯国一,而且好像是最快的，但是我还没搞懂，先挖个坑，下次一定搞出来<img src="E:\素材\表情包\柴郡\心有鱼而力不足jpg" alt="B7F4BD82EAE1537A343BA35532745968" style="zoom:25%;" />

于是乎，我就开始用machin方法

```python
import math

n = int(input("Enter the number of digits you want to decimal places:"))

def machin() :
	pi = 4*(4*math.atan(1/5)-math.atan(1/239))
	result = str(pi)
	return result
	
result = machin()
print(result[:n+1])	
```

写好后，一看，没报错还能跑，非常哟西，准备直接上传睡觉。搭嘎，传之前小小一试，发现精度最高只能到16位，寄。![6FD3B22344B91F7F53F5FEE73460BE69](E:\素材\表情包\柴郡\垮起个小猫批脸jpg)

怎么会逝呢，看起来妹毛病啊，只能先怀疑下math函数了（好像也只能怀疑它？），然后我又是一个菜狗，搜都搜不到相关的，只能自己单独跑一下了（毕竟人跑不掉）。

<img src="C:\Users\13048\Videos\Captures\atan.png" alt="atan" style="zoom: 50%;" />

<img src="C:\Users\13048\Videos\Captures\atan1.png" alt="atan1" style="zoom: 67%;" />

这么一看，最小精度刚好16位，~~懂了，开摆~~ 换别的，但是我这种高数濒临挂科的小猫又能做什么呢，只能先去搜搜了，然后~~啥也没找到~~ 找到了machin的级数展开（很好，看不懂，又要长脑子了），最后回想高中仅剩的一点数列知识，还是把这个搞出来了

```python
n = int(input("Enter the number of digits you want to decimal places:"))
a = 10**n
x1 = a*4//5
x2 = 1 // -239
sum1 = x1+x2
n = 2*n
for i in range(3,n,2) :
	x1 //= -25
    x2 //= -57121
    sum = sum+（x1+x2）//i
pi = sum*4
print(pi)
    
```

然后再逝世，很好，又错了。开始难绷，准备润去认真学高数先。<img src="E:\素材\表情包\柴郡\蛮怪的jpg" alt="8C79FAB2EAC0811A8A43839E3D8D984B" style="zoom: 33%;" />

最后，大半夜的电源关了，只能先 ~~偷看~~ ~~品鉴~~ 借鉴下别人的代码来分析下自己的错误，，然后发现自己像个憨批一样执着于用整数快速梭哈又再搞浮点数运算，这下真的难绷了。稍加修改，最后成功出狱。

```
n = int(input("Enter the number of digits you want to count to decimal places:"))
t = n+10
b = 10**t
x1 = b*4//5
x2 = b//-239
sum = x1+x2
n *= 2
for i in range(3, n, 2):
    x1 //= -25
    x2 //= -57121
    x = (x1+x2) // i
    sum += x
pi = sum*4
pi //= 10**10
print(pi/10**n)
```

